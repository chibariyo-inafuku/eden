<!DOCTYPE html>
<html lang="ja">

<head>
  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-MCLC97');</script>
  <!-- End Google Tag Manager -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="robots" content="noindex, nofollow"><!-- ★noindexタグ -->
  <title>にじミラ診断｜ミラシル by 第一生命</title>
  <meta name="description" content="にじミラ診断でエデン組と暮らしをアップデート！暮らしにまつわる質問に答えて、 あなたと似ているライバーを見つけよう！毎日を彩るヒントをエデン組が教えてくれるかも！？">

  <!-- 共通CSS -->
  <link rel="stylesheet" href="common/css/style.css">

</head>



<body>
  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MCLC97"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->
  <section class="question">

    <div class="question__logo">
      <a href="#" class="question__logo-link">
        <picture>
          <source media="(max-width:767px)" srcset="./common/image/question_logo_sp.png">
          <img src="./common/image/question_logo.png" alt="LOGO" width="426" height="161" loading="lazy" class="img">
        </picture>
      </a>
    </div>

    <div class="question__box">
      <div class="question__wrapper">
        <div class="question__num">
          <picture>
            <source media="(max-width: 767px)" srcset="./common/image/question_num_02_sp.png">
            <img src="./common/image/question_num_02.png" alt="Q1" width="275" height="72" loading="lazy" class="img">
          </picture>
        </div>
        <h2 class="question__title">理想のお風呂時間は？​</h2>
        <div class="question__btns">
          <a href="#" id="choiceA" class="question__btn question__btn-purple">おうちでまったり癒しの時間</a>
          <a href="#" id="choiceB" class="question__btn question__btn-blue">開放的な温泉でリフレッシュ</a>
        </div>
        <div class="question__dots">
          <ul>
            <li class="question__dot"></li>
            <li class="question__dot active"></li>
            <li class="question__dot"></li>
            <li class="question__dot"></li>
          </ul>
        </div>
      </div>
    </div>

    <div class="btn">
      <a href="#" id="backBtn" class="btn__primary">ひとつ戻る</a>
    </div>
    <p class="copyright">&copy; ANYCOLOR, Inc.</p>

  </section>

  <script>
    const THIS = "eden_shindan_01_02.html";

    const START = "eden_shindan_00.html";
    const KEY = "edenTrail";

    function getTrail() { try { return JSON.parse(sessionStorage.getItem(KEY) || "[]"); } catch(e) { return []; } }
    function setTrail(a) { sessionStorage.setItem(KEY, JSON.stringify(a)); }
    function pushTrail(p) { const t = getTrail(); if(t.length === 0 || t[t.length - 1] !== p) { t.push(p); setTrail(t); } }
    function popTrail() { const t = getTrail(); const p = t.pop(); setTrail(t); return p; }

    function buildNext(url, thisPage) {
      const u = new URL(url, location.href);
      const cur = new URLSearchParams(location.search);
      for(const [k, v] of cur.entries()) { u.searchParams.set(k, v); }
      u.searchParams.set("from", thisPage);
      return u.toString();
    }

    (function initTrail() {
      const from = new URLSearchParams(location.search).get("from");
      if(from) { pushTrail(from); }
      if(location.pathname.endsWith(START)) { setTrail([]); }
    })();

    function goBack() {
      const prev = popTrail();
      if(prev) {
        const u = new URL(prev, location.href);
        const cur = new URLSearchParams(location.search);
        for(const [k, v] of cur.entries()) { if(k !== "from") u.searchParams.set(k, v); }
        location.href = u.toString();
        return;
      }
      const u = new URL(START, location.href);
      const cur = new URLSearchParams(location.search);
      for(const [k, v] of cur.entries()) { if(k !== "from") u.searchParams.set(k, v); }
      location.href = u.toString();
    }

    const a = document.getElementById("choiceA");
    const b = document.getElementById("choiceB");
    a.href = buildNext("eden_shindan_02_02.html", THIS);
    b.href = buildNext("eden_shindan_02_03.html", THIS);
    a.addEventListener("click", () => pushTrail(THIS));
    b.addEventListener("click", () => pushTrail(THIS));
    document.getElementById("backBtn").addEventListener("click", goBack);
  </script>

</body>

</html>