<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>EDEN 診断｜Q2-1</title>
  <meta name="description" content="にじミラ診断でエデン組と暮らしをアップデート！暮らしにまつわる質問に答えて、 あなたと似ているライバーを見つけよう！毎日を彩るヒントをエデン組が教えてくれるかも！？">

  <!-- 共通CSS -->
  <link rel="stylesheet" href="common/css/style.css">

</head>



<body>

  <section class="question">

    <div class="question__logo">
      <a href="#" class="question__logo-link">
        <picture>
          <source media="(max-width:767px)" srcset="./common/image/question_logo_sp.png">
          <img src="./common/image/question_logo.png" alt="LOGO" width="426" height="161" loading="lazy" class="img">
        </picture>
      </a>
    </div>

    <div class="question__box">
      <div class="question__wrapper">
        <h1>あなたのタイプは「Lain」</h1>
        <p>落ち着きと堅実さで確実に前進するタイプ。</p>
        <!-- <div class="actions center" style="justify-content:center;margin-top:16px">
        <button class="btn" id="backBtn">1ページ前へ戻る</button>
        <a class="btn__primary" id="restart">最初からやり直す</a>
      </div> -->
      </div>
    </div>

    <!-- <div class="btn">
      <a href="#" id="backBtn" class="btn__primary">ひとつ戻る</a>
    </div> -->
    <p class="copyright">&copy; ANYCOLOR, Inc.</p>

  </section>

  <script>

    const START = "eden_shindan_00.html";
    const KEY = "edenTrail";

    function getTrail() { try { return JSON.parse(sessionStorage.getItem(KEY) || "[]"); } catch(e) { return []; } }
    function setTrail(a) { sessionStorage.setItem(KEY, JSON.stringify(a)); }
    function pushTrail(p) { const t = getTrail(); if(t.length === 0 || t[t.length - 1] !== p) { t.push(p); setTrail(t); } }
    function popTrail() { const t = getTrail(); const p = t.pop(); setTrail(t); return p; }

    function buildNext(url, thisPage) {
      const u = new URL(url, location.href);
      const cur = new URLSearchParams(location.search);
      for(const [k, v] of cur.entries()) { u.searchParams.set(k, v); }
      u.searchParams.set("from", thisPage);
      return u.toString();
    }

    (function initTrail() {
      const from = new URLSearchParams(location.search).get("from");
      if(from) { pushTrail(from); }
      if(location.pathname.endsWith(START)) { setTrail([]); }
    })();

    function goBack() {
      const prev = popTrail();
      if(prev) {
        const u = new URL(prev, location.href);
        const cur = new URLSearchParams(location.search);
        for(const [k, v] of cur.entries()) { if(k !== "from") u.searchParams.set(k, v); }
        location.href = u.toString();
        return;
      }
      const u = new URL(START, location.href);
      const cur = new URLSearchParams(location.search);
      for(const [k, v] of cur.entries()) { if(k !== "from") u.searchParams.set(k, v); }
      location.href = u.toString();
    }

    document.getElementById("backBtn").addEventListener("click", goBack);
    document.getElementById("restart").addEventListener("click", (e) => {
      e.preventDefault();
      setTrail([]);
      const u = new URL(START, location.href);
      const cur = new URLSearchParams(location.search);
      for(const [k, v] of cur.entries()) { if(k !== "from") u.searchParams.set(k, v); }
      location.href = u.toString();
    });
  </script>

</body>

</html>